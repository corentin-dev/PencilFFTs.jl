Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs.jl/benchmarks/Project.toml`
  [c7e460c6] ArgParse v1.1.0
  [6e4b80f9] BenchmarkTools v0.5.0
  [7a1cc6ca] FFTW v1.2.2
  [da04e1cc] MPI v0.15.1
  [bac558e1] OrderedCollections v1.3.0
  [4a48f351] PencilFFTs v0.7.3 `..`
  [a759f4b9] TimerOutputs v0.5.6
Julia Version 1.5.0
Commit 96786e22cc (2020-08-01 23:44 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-9.0.1 (ORCJIT, skylake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
MPI: (MPI.IntelMPI, v"2019.0.0")

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512)  ->  (257, 512, 512)
MPI topology: 2D decomposition (128×64 processes)
Method: IsendIrecv
Permutations: Val{true}()

Average time: 6.91143664 ms (TimerOutputs) over 100 repetitions
              6.91316550 ms (MPI_Wtime) ± 4.20570326 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            1.52s / 45.6%           49.4MiB / 76.7%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    453ms  65.5%  4.53ms   19.4MiB  51.1%   198KiB
   transpose!             200    436ms  63.0%  2.18ms   18.5MiB  48.9%  95.0KiB
     unpack data          200    397ms  57.5%  1.99ms   15.7MiB  41.4%  80.3KiB
       wait receive     19.0k    351ms  50.9%  18.5μs   9.58MiB  25.3%     529B
       copy_permuted!   19.2k   39.1ms  5.66%  2.04μs   6.11MiB  16.1%     334B
     pack data            200   37.7ms  5.46%   189μs   2.33MiB  6.14%  11.9KiB
       copy_range!      19.2k   6.25ms  0.90%   325ns     0.00B  0.00%    0.00B
   FFT                    300   13.4ms  1.94%  44.7μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.17ms  0.31%  10.9μs    489KiB  1.26%  2.45KiB
 PencilFFTs ldiv!         100    239ms  34.5%  2.39ms   18.5MiB  48.9%   190KiB
   transpose!             200    218ms  31.5%  1.09ms   17.7MiB  46.7%  90.7KiB
     unpack data          200    152ms  22.1%   762μs   14.9MiB  39.2%  76.0KiB
       wait receive     19.0k    129ms  18.7%  6.79μs   9.58MiB  25.3%     529B
       copy_permuted!   19.2k   17.0ms  2.46%   884ns   5.27MiB  13.9%     288B
     pack data            200   64.9ms  9.39%   324μs   2.33MiB  6.14%  11.9KiB
       copy_range!      19.2k   5.77ms  0.83%   300ns     0.00B  0.00%    0.00B
   FFT                    300   16.0ms  2.32%  53.4μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.09ms  0.30%  10.4μs    489KiB  1.26%  2.45KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average IsendIrecv = 1.768244 ms
  Average FFT        = 0.044738 ms
  Average (un)pack   = 0.226906 ms
  Average others     = 0.000000 ms

Backward transforms
  Average IsendIrecv = 0.655433 ms
  Average FFT        = 0.053392 ms
  Average (un)pack   = 0.113702 ms
  Average others     = 0.000000 ms

Total from timers: 5.8230 ms/iteration (1.0885 ms / 15.75% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512)  ->  (257, 512, 512)
MPI topology: 2D decomposition (128×64 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 7.08697500 ms (TimerOutputs) over 100 repetitions
              7.08887896 ms (MPI_Wtime) ± 4.43365046 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            709ms / 100%            13.5MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    437ms  61.6%  4.37ms   6.40MiB  47.5%  65.5KiB
   transpose!             200    418ms  59.0%  2.09ms   6.04MiB  44.8%  30.9KiB
     pack data            200    313ms  44.2%  1.56ms    564KiB  4.09%  2.82KiB
       MPI.Alltoallv!     200    305ms  43.0%  1.52ms    375KiB  2.72%  1.88KiB
       copy_range!      19.2k   4.58ms  0.65%   238ns     0.00B  0.00%    0.00B
     unpack data          200    105ms  14.8%   524μs   5.27MiB  39.1%  27.0KiB
       copy_permuted!   19.2k    102ms  14.4%  5.30μs   5.27MiB  39.1%     288B
   FFT                    300   15.7ms  2.22%  52.4μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   71.5μs  0.01%   357ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    272ms  38.4%  2.72ms   7.08MiB  52.5%  72.5KiB
   transpose!             200    257ms  36.3%  1.29ms   6.73MiB  49.9%  34.4KiB
     pack data            200    238ms  33.6%  1.19ms    564KiB  4.09%  2.82KiB
       MPI.Alltoallv!     200    229ms  32.3%  1.14ms    375KiB  2.72%  1.88KiB
       copy_range!      19.2k   5.24ms  0.74%   273ns     0.00B  0.00%    0.00B
     unpack data          200   18.7ms  2.64%  93.7μs   5.96MiB  44.2%  30.5KiB
       copy_permuted!   19.2k   15.7ms  2.21%   817ns   5.96MiB  44.2%     325B
   FFT                    300   13.1ms  1.84%  43.5μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   63.5μs  0.01%   317ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 1.144687 ms
  Average FFT        = 0.043545 ms
  Average (un)pack   = 0.104591 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 1.522872 ms
  Average FFT        = 0.052374 ms
  Average (un)pack   = 0.531714 ms
  Average others     = 0.000000 ms

Total from timers: 6.8955 ms/iteration (0.1915 ms / 2.70% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512)  ->  (257, 512, 512)
MPI topology: 2D decomposition (128×64 processes)
Method: IsendIrecv
Permutations: Val{false}()

Average time: 6.28786725 ms (TimerOutputs) over 100 repetitions
              6.28947075 ms (MPI_Wtime) ± 4.02562107 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            629ms / 100%            26.5MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    392ms  62.4%  3.92ms   13.3MiB  50.0%   136KiB
   transpose!             200    372ms  59.1%  1.86ms   12.4MiB  46.9%  63.7KiB
     unpack data          200    336ms  53.4%  1.68ms   9.58MiB  36.1%  49.0KiB
       wait receive     19.0k    319ms  50.8%  16.8μs   9.58MiB  36.1%     529B
       copy_permuted!   19.2k   10.2ms  1.63%   533ns     0.00B  0.00%    0.00B
     pack data            200   35.4ms  5.63%   177μs   2.33MiB  8.77%  11.9KiB
       copy_range!      19.2k   6.25ms  0.99%   325ns     0.00B  0.00%    0.00B
   FFT                    300   17.0ms  2.70%  56.5μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.32ms  0.37%  11.6μs    489KiB  1.80%  2.45KiB
 PencilFFTs ldiv!         100    237ms  37.6%  2.37ms   13.3MiB  50.0%   136KiB
   transpose!             200    210ms  33.4%  1.05ms   12.4MiB  46.9%  63.7KiB
     unpack data          200    146ms  23.3%   732μs   9.58MiB  36.1%  49.0KiB
       wait receive     19.0k    130ms  20.7%  6.86μs   9.58MiB  36.1%     529B
       copy_permuted!   19.2k   10.0ms  1.59%   522ns     0.00B  0.00%    0.00B
     pack data            200   63.2ms  10.0%   316μs   2.33MiB  8.77%  11.9KiB
       copy_range!      19.2k   6.28ms  1.00%   327ns     0.00B  0.00%    0.00B
   FFT                    300   22.0ms  3.49%  73.2μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.08ms  0.33%  10.4μs    489KiB  1.80%  2.45KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average IsendIrecv = 1.608438 ms
  Average FFT        = 0.056530 ms
  Average (un)pack   = 0.082424 ms
  Average others     = 0.000000 ms

Backward transforms
  Average IsendIrecv = 0.662126 ms
  Average FFT        = 0.073188 ms
  Average (un)pack   = 0.081503 ms
  Average others     = 0.000000 ms

Total from timers: 5.2581 ms/iteration (1.0297 ms / 16.38% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512)  ->  (257, 512, 512)
MPI topology: 2D decomposition (128×64 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 6.13379045 ms (TimerOutputs) over 100 repetitions
              6.13561610 ms (MPI_Wtime) ± 0.19831448 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            614ms / 100%            2.24MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    345ms  56.3%  3.45ms   1.13MiB  50.4%  11.6KiB
   transpose!             200    324ms  52.8%  1.62ms    789KiB  34.4%  3.94KiB
     pack data            200    311ms  50.7%  1.56ms    564KiB  24.6%  2.82KiB
       MPI.Alltoallv!     200    303ms  49.3%  1.51ms    375KiB  16.3%  1.88KiB
       copy_range!      19.2k   5.33ms  0.87%   278ns     0.00B  0.00%    0.00B
     unpack data          200   12.5ms  2.03%  62.3μs      848B  0.04%    4.24B
       copy_permuted!   19.2k   9.60ms  1.56%   500ns     0.00B  0.00%    0.00B
   FFT                    300   18.7ms  3.05%  62.3μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   46.7μs  0.01%   233ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    268ms  43.7%  2.68ms   1.11MiB  49.6%  11.4KiB
   transpose!             200    250ms  40.8%  1.25ms    789KiB  34.4%  3.94KiB
     pack data            200    238ms  38.7%  1.19ms    564KiB  24.6%  2.82KiB
       MPI.Alltoallv!     200    228ms  37.2%  1.14ms    375KiB  16.3%  1.88KiB
       copy_range!      19.2k   5.48ms  0.89%   285ns     0.00B  0.00%    0.00B
     unpack data          200   12.3ms  2.00%  61.4μs      848B  0.04%    4.24B
       copy_permuted!   19.2k   9.50ms  1.55%   495ns     0.00B  0.00%    0.00B
   FFT                    300   16.5ms  2.69%  55.0μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   46.0μs  0.01%   230ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 1.142276 ms
  Average FFT        = 0.055009 ms
  Average (un)pack   = 0.074889 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 1.513743 ms
  Average FFT        = 0.062327 ms
  Average (un)pack   = 0.074637 ms
  Average others     = 0.000000 ms

Total from timers: 5.9631 ms/iteration (0.1707 ms / 2.78% missing)

********************************************************************************
Number of processes:   8192
Dimensions:            512×512×512
Number of repetitions: 100
Output file:           results/P3DFFT2_N512_intelmpi_2019.7.dat

Dimensions: (512, 512, 512)
Processes:  (64, 128)
 Using stride-1 layout
 Using loop block sizes            2         256           2          64
 Running on            1 threads
L2 error: 2.85985e-24
Average time over 100 iterations: 5.6301 ± 0.0835975 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  0.41385     MPI_Alltoallv (X -> Y)
 ( 2)  2.3223      MPI_Alltoallv (Y -> Z)
 ( 3)  1.7237      MPI_Alltoallv (Y <- Z)
 ( 4)  0.63964     MPI_Alltoallv (X <- Y)

 ( 5)  0.068341    FFT r2c X
 ( 6)  0.042747    pack + unpack data (X -> Y)
 ( 7)  0.051983    FFT c2c Y
 ( 8)  0.10037     pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  0.078692    pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  0.065881    iFFT c2c Y
 (11)  0.040162    pack + unpack data (X <- Y)
 (12)  0.07069     iFFT c2r X

 (13)  0.00010058  normalise

TOTAL  5.6184532

Forward transforms
  Average Alltoallv = 1.3680939
  Average FFT       = 0.057435511
  Average (un)pack  = 0.045564885

Backward transforms
  Average Alltoallv = 1.1816516
  Average FFT       = 0.067484131
  Average (un)pack  = 0.026486478
  Average normalise = 0.00010058284

Total from timers: 5.6184532 ms/iteration (0.01164414 ms / 0.2068% missing)
