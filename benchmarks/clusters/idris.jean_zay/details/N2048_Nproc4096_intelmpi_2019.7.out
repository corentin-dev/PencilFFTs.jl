Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs.jl/benchmarks/Project.toml`
  [c7e460c6] ArgParse v1.1.0
  [6e4b80f9] BenchmarkTools v0.5.0
  [7a1cc6ca] FFTW v1.2.2
  [da04e1cc] MPI v0.15.1
  [bac558e1] OrderedCollections v1.3.0
  [4a48f351] PencilFFTs v0.7.3 `..`
  [a759f4b9] TimerOutputs v0.5.6
Julia Version 1.5.0
Commit 96786e22cc (2020-08-01 23:44 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-9.0.1 (ORCJIT, skylake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
MPI: (MPI.IntelMPI, v"2019.0.0")

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048)  ->  (1025, 2048, 2048)
MPI topology: 2D decomposition (64×64 processes)
Method: IsendIrecv
Permutations: Val{true}()

Average time: 397.92971712 ms (TimerOutputs) over 100 repetitions
              397.93413197 ms (MPI_Wtime) ± 16.01910666 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            40.6s / 98.0%           32.7MiB / 64.7%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    20.0s  50.2%   200ms   10.8MiB  51.3%   111KiB
   transpose!             200    17.1s  42.9%  85.3ms   10.2MiB  48.1%  52.0KiB
     unpack data          200    15.5s  39.1%  77.7ms   8.24MiB  39.0%  42.2KiB
       wait receive     12.6k    13.2s  33.2%  1.05ms   4.04MiB  19.1%     336B
       copy_permuted!   12.8k    2.32s  5.83%   181μs   4.20MiB  19.9%     344B
     pack data            200    1.51s  3.79%  7.54ms   1.54MiB  7.31%  7.91KiB
       copy_range!      12.8k    1.17s  2.95%  91.8μs     0.00B  0.00%    0.00B
   FFT                    300    2.89s  7.26%  9.63ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   6.87ms  0.02%  34.4μs    331KiB  1.53%  1.66KiB
 PencilFFTs ldiv!         100    19.8s  49.8%   198ms   10.3MiB  48.7%   106KiB
   transpose!             200    16.0s  40.2%  80.1ms   9.63MiB  45.5%  49.3KiB
     unpack data          200    13.9s  34.9%  69.5ms   7.71MiB  36.5%  39.5KiB
       wait receive     12.6k    11.0s  27.6%   871μs   4.04MiB  19.1%     336B
       copy_permuted!   12.8k    2.92s  7.34%   228μs   3.67MiB  17.4%     301B
     pack data            200    2.10s  5.28%  10.5ms   1.54MiB  7.31%  7.91KiB
       copy_range!      12.8k    1.65s  4.15%   129μs     0.00B  0.00%    0.00B
   FFT                    300    3.55s  8.92%  11.8ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   56.1ms  0.14%   281μs    331KiB  1.53%  1.66KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average IsendIrecv = 66.127536 ms
  Average FFT        = 9.632832 ms
  Average (un)pack   = 17.472953 ms
  Average others     = 0.000000 ms

Backward transforms
  Average IsendIrecv = 55.150778 ms
  Average FFT        = 11.834361 ms
  Average (un)pack   = 22.854713 ms
  Average others     = 0.000000 ms

Total from timers: 387.6135 ms/iteration (10.3162 ms / 2.59% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048)  ->  (1025, 2048, 2048)
MPI topology: 2D decomposition (64×64 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 493.81125661 ms (TimerOutputs) over 100 repetitions
              493.81726369 ms (MPI_Wtime) ± 5.13191979 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            49.4s / 100%            9.53MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    25.4s  51.4%   254ms   4.42MiB  46.4%  45.3KiB
   transpose!             200    20.5s  41.6%   103ms   4.07MiB  42.7%  20.8KiB
     pack data            200    18.0s  36.5%  90.0ms    395KiB  4.05%  1.98KiB
       MPI.Alltoallv!     200    15.9s  32.1%  79.3ms    263KiB  2.69%  1.31KiB
       copy_range!      12.8k    2.14s  4.33%   167μs     0.00B  0.00%    0.00B
     unpack data          200    2.53s  5.12%  12.6ms   3.52MiB  36.9%  18.0KiB
       copy_permuted!   12.8k    2.52s  5.11%   197μs   3.52MiB  36.9%     288B
   FFT                    300    4.50s  9.11%  15.0ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    212μs  0.00%  1.06μs     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    24.0s  48.6%   240ms   5.11MiB  53.6%  52.3KiB
   transpose!             200    20.6s  41.8%   103ms   4.75MiB  49.9%  24.3KiB
     pack data            200    18.1s  36.7%  90.5ms    395KiB  4.05%  1.98KiB
       MPI.Alltoallv!     200    16.6s  33.5%  82.8ms    263KiB  2.69%  1.31KiB
       copy_range!      12.8k    1.53s  3.09%   119μs     0.00B  0.00%    0.00B
     unpack data          200    2.53s  5.13%  12.7ms   4.20MiB  44.1%  21.5KiB
       copy_permuted!   12.8k    2.53s  5.12%   197μs   4.20MiB  44.1%     344B
   FFT                    300    3.35s  6.78%  11.2ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    137μs  0.00%   683ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 82.833413 ms
  Average FFT        = 11.157260 ms
  Average (un)pack   = 20.265442 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 79.274022 ms
  Average FFT        = 14.998619 ms
  Average (un)pack   = 23.290181 ms
  Average others     = 0.000000 ms

Total from timers: 489.7938 ms/iteration (4.0175 ms / 0.81% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048)  ->  (1025, 2048, 2048)
MPI topology: 2D decomposition (64×64 processes)
Method: IsendIrecv
Permutations: Val{false}()

Average time: 470.62485517 ms (TimerOutputs) over 100 repetitions
              470.62752046 ms (MPI_Wtime) ± 17.54972736 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            47.1s / 100%            13.3MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    23.9s  50.7%   239ms   6.62MiB  49.9%  67.8KiB
   transpose!             200    17.3s  36.7%  86.4ms   5.96MiB  44.9%  30.5KiB
     unpack data          200    15.9s  33.8%  79.6ms   4.04MiB  30.5%  20.7KiB
       wait receive     12.6k    15.0s  31.8%  1.19ms   4.04MiB  30.4%     336B
       copy_permuted!   12.8k    948ms  2.01%  74.0μs     0.00B  0.00%    0.00B
     pack data            200    1.35s  2.88%  6.77ms   1.54MiB  11.6%  7.91KiB
       copy_range!      12.8k    1.02s  2.17%  79.8μs     0.00B  0.00%    0.00B
   FFT                    300    6.59s  14.0%  22.0ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   4.85ms  0.01%  24.3μs    331KiB  2.44%  1.66KiB
 PencilFFTs ldiv!         100    23.2s  49.3%   232ms   6.64MiB  50.1%  68.0KiB
   transpose!             200    16.0s  34.0%  79.9ms   5.96MiB  44.9%  30.5KiB
     unpack data          200    14.3s  30.4%  71.6ms   4.04MiB  30.5%  20.7KiB
       wait receive     12.6k    13.1s  27.8%  1.04ms   4.04MiB  30.4%     336B
       copy_permuted!   12.8k    1.23s  2.61%  95.8μs     0.00B  0.00%    0.00B
     pack data            200    1.66s  3.53%  8.31ms   1.54MiB  11.6%  7.91KiB
       copy_range!      12.8k    1.26s  2.68%  98.5μs     0.00B  0.00%    0.00B
   FFT                    300    6.93s  14.7%  23.1ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   50.3ms  0.11%   252μs    331KiB  2.44%  1.66KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average IsendIrecv = 74.836270 ms
  Average FFT        = 21.961960 ms
  Average (un)pack   = 9.847138 ms
  Average others     = 0.000000 ms

Backward transforms
  Average IsendIrecv = 65.670388 ms
  Average FFT        = 23.103607 ms
  Average (un)pack   = 12.437182 ms
  Average others     = 0.000000 ms

Total from timers: 460.7787 ms/iteration (9.8462 ms / 2.09% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048)  ->  (1025, 2048, 2048)
MPI topology: 2D decomposition (64×64 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 530.25736559 ms (TimerOutputs) over 100 repetitions
              530.26265703 ms (MPI_Wtime) ± 6.44735784 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            53.0s / 100%            1.81MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    26.9s  50.7%   269ms    916KiB  49.5%  9.16KiB
   transpose!             200    20.0s  37.8%   100ms    567KiB  30.6%  2.83KiB
     pack data            200    18.5s  34.9%  92.6ms    395KiB  21.4%  1.98KiB
       MPI.Alltoallv!     200    17.1s  32.3%  85.7ms    263KiB  14.2%  1.31KiB
       copy_range!      12.8k    1.36s  2.57%   106μs     0.00B  0.00%    0.00B
     unpack data          200    1.52s  2.87%  7.60ms      848B  0.04%    4.24B
       copy_permuted!   12.8k    1.51s  2.85%   118μs     0.00B  0.00%    0.00B
   FFT                    300    6.87s  13.0%  22.9ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    128μs  0.00%   640ns     0.00B  0.00%    0.00B
 PencilFFTs ldiv!         100    26.1s  49.3%   261ms    935KiB  50.5%  9.35KiB
   transpose!             200    18.8s  35.4%  93.9ms    567KiB  30.6%  2.83KiB
     pack data            200    16.9s  31.8%  84.3ms    395KiB  21.4%  1.98KiB
       MPI.Alltoallv!     200    15.3s  28.8%  76.3ms    263KiB  14.2%  1.31KiB
       copy_range!      12.8k    1.58s  2.98%   124μs     0.00B  0.00%    0.00B
     unpack data          200    1.92s  3.63%  9.62ms      848B  0.04%    4.24B
       copy_permuted!   12.8k    1.92s  3.61%   150μs     0.00B  0.00%    0.00B
   FFT                    300    7.01s  13.2%  23.4ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    202μs  0.00%  1.01μs     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 85.694384 ms
  Average FFT        = 22.899198 ms
  Average (un)pack   = 14.358809 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 76.295253 ms
  Average FFT        = 23.373270 ms
  Average (un)pack   = 17.494786 ms
  Average others     = 0.000000 ms

Total from timers: 526.5039 ms/iteration (3.7535 ms / 0.71% missing)

********************************************************************************
Number of processes:   4096
Dimensions:            2048×2048×2048
Number of repetitions: 100
Output file:           results/P3DFFT2_N2048_intelmpi_2019.7.dat

Dimensions: (2048, 2048, 2048)
Processes:  (64, 64)
 Using stride-1 layout
 Using loop block sizes            1          64           1           1
 Running on            1 threads
L2 error: 2.92025e-22
Average time over 100 iterations: 500.696 ± 3.11513 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  35.269      MPI_Alltoallv (X -> Y)
 ( 2)  125.98      MPI_Alltoallv (Y -> Z)
 ( 3)  128.18      MPI_Alltoallv (Y <- Z)
 ( 4)  41.454      MPI_Alltoallv (X <- Y)

 ( 5)  13.732      FFT r2c X
 ( 6)  24.23       pack + unpack data (X -> Y)
 ( 7)  10.804      FFT c2c Y
 ( 8)  35.358      pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  32.981      pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  10.551      iFFT c2c Y
 (11)  23.802      pack + unpack data (X <- Y)
 (12)  14.983      iFFT c2r X

 (13)  0.026002    normalise

TOTAL  497.34758

Forward transforms
  Average Alltoallv = 80.623215
  Average FFT       = 11.780151
  Average (un)pack  = 24.391624

Backward transforms
  Average Alltoallv = 84.817923
  Average FFT       = 12.027913
  Average (un)pack  = 23.115932
  Average normalise = 0.026002361

Total from timers: 497.34758 ms/iteration (3.3486443 ms / 0.6688% missing)
